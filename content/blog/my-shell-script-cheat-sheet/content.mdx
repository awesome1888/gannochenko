---
title: "My Shell Script cheat-sheet"
description: Can't say I use shell scripting a lot, but when I do, I always struggling with remembering certain useful syntax. So, this is just a reminder to myself.
keywords: shell, script, bash, cheatasheet
path: /blog/my-bash-cheat-sheet-
date: 2020-06-03
published: true
images:
    - author: Taylor Wilcox
      image: ./cover.jpg
      sourceText: Unsplash
      source: https://unsplash.com/s/photos/scrolls
      is_cover: 1
---

Can't say I use shell scripting a lot, but when I do, I always struggling with remembering certain useful syntax. So, this is just a reminder for the most frequently-used syntax.

## Save command output to a variable

~~~bash
LIST=$(ls -l)
~~~

## Get the basename of the full path to the script file

~~~bash
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
~~~

## Assign the default value to a variable

~~~bash
VERSION="${1:-latest}"
~~~

## Execute a command for each file in the folder

~~~bash
FOLDER="$(pwd)"

for file in ${FOLDER}/*
do
  ls -l "$file"
done
~~~

## Get basename of a path

~~~bash
basename /foo/bar/baz/wheel.txt
~~~

## Check if file exists

~~~bash
FILE=/etc/hosts

if [[ -f "$FILE" ]]; then
    echo "$FILE exists."
else 
    echo "$FILE does not exist."
fi

if [[ ! -f "$FILE" ]]; then
    echo "$FILE does not exist."
else 
    echo "$FILE exists."
fi
~~~

[Other different file test operators](https://tldp.org/LDP/abs/html/fto.html).

## Read environment variables from a file and define them

The variables will be only visible to the current process.

~~~bash
if [ -f .env ]
then
  export $(cat .env | xargs)
fi
~~~

